class Solution {
    public List<Integer> findAnagrams(String s, String p) {
        int len1 = s.length(), len2 = p.length();
        List<Integer> result = new ArrayList<>();

        if(len1 == 0 || len2 == 0 || len2 > len1) return result;

        int[] pfreq = new int[26];
        int[] sfreq = new int[26];
        int start = 0, end = 0;

        // build initial window
        while(end < len2){
            sfreq[s.charAt(end) - 'a']++;
            pfreq[p.charAt(end) - 'a']++;
            end++;
        }
        end--;

        // slide window
        while(end < len1){
            if(Arrays.equals(sfreq, pfreq)){
                result.add(start);
            }
            end++;

            if(end != len1) sfreq[s.charAt(end) - 'a']++;
            sfreq[s.charAt(start) - 'a']--;
            start++;
        }
        return result;
    }
}
// Time Complexity: O(n . 26 + m) where n = length of s, m = length of p
// Space Complexity: O(1) (constant extra space for frequency arrays)
